import numpy as np
from numpy.testing import assert_array_almost_equal

from utils.arrays import normalize


def test_normalize():
    data_set = np.array([
        [10, 64.0277609352],
        [15, 0.0383577812151],
        [20, 22.15708796],
        [25, 94.4005135336],
        [30, 3.8228541672],
        [35, 62.4202896763],
        [40, 81.1137889117],
        [45, 15.2473398102],
        [50, 44.9639997899],
        [55, 78.6589626868],
        [60, 86.9038246994],
        [65, 78.9038191825],
        [70, 45.4151896937],
        [75, 77.2837974455],
        [80, 20.5645421131],
        [85, 88.9642169694]
    ])

    normalized = np.array([
        [-1.62697843, 0.31701312],
        [-1.41004798, -1.71715648],
        [-1.19311752, -1.01402055],
        [-0.97618706, 1.28253752],
        [-0.7592566, -1.59685051],
        [-0.54232614, 0.26591295],
        [-0.32539569, 0.86016366],
        [-0.10846523, -1.23367566],
        [0.10846523, -0.2890079],
        [0.32539569, 0.78212679],
        [0.54232614, 1.04422405],
        [0.7592566, 0.78991057],
        [0.97618706, -0.27466495],
        [1.19311752, 0.73841143],
        [1.41004798, -1.06464625],
        [1.62697843, 1.1097222]
    ])
    assert_array_almost_equal(normalize(data_set), normalized)
